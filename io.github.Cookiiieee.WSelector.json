{
    "app-id": "io.github.Cookiiieee.WSelector",
    "runtime": "org.gnome.Platform",
    "runtime-version": "48",
    "sdk": "org.gnome.Sdk",
    "command": "wselector",
    "finish-args": [
        "--share=network",
        "--socket=wayland",
        "--socket=fallback-x11",
        "--filesystem=xdg-pictures/WSelector:create",
        "--talk-name=org.freedesktop.Notifications",
        "--talk-name=org.freedesktop.portal.settings",
        "--talk-name=org.freedesktop.FileManager1"
    ],
    "modules": [
        {
            "name": "python-deps",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/e4/33/89c2ced2b67d1c2a61c19c6751aa8902d46ce3dacb23600a283619f5a12d/charset_normalizer-3.4.2.tar.gz",
                    "sha256": "5baececa9ecba31eff645232d59845c07aa030f0c81ee70184a90d35099a0e63"
                },
        	    {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/e8/9e/c05b3920a3b7d20d3d3310465f50348e5b3694f4f88c6daf736eef3024c4/certifi-2025.4.26.tar.gz",
                    "sha256": "0a816057ea3cdefcef70270d2c515e4506bbc954f417fa5ade2021213bb8f0c6"
                },

        	    {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/f1/70/7703c29685631f5a7590aa73f1f1d3fa9a380e654b86af429e0934a32f7d/idna-3.10.tar.gz",
                    "sha256": "12f65c9b470abda6dc35cf8e63cc574b1c52b11df2c86030af0ac09b01b13ea9"
                },
        	    {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/63/70/2bf7780ad2d390a8d301ad0b550f1581eadbd9a20f896afe06353c2a2913/requests-2.32.3.tar.gz",
                    "sha256": "55365417734eb18255590a9ff9eb97e9e1da868d4ccd6402399eaf68af20a760"
                },
        	    {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/6b/c3/d31704ae558dcca862e4ee8e8388f357af6c9d9acb0cad4ba0fbbd350d9a/beautifulsoup4-4.9.3.tar.gz",
                    "sha256": "84729e322ad1d5b4d25f805bfa05b902dd96450f43842c4e99067d5e1369eb25"
                },
        	    {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/2a/80/336820c1ad9286a4ded7e845b2eccfcb27851ab8ac6abece774a6ff4d3de/psutil-7.0.0.tar.gz",
                    "sha256": "7be9c3eba38beccb6495ea33afd982a44074b78f28c434a1f51cc07fd315c456"
                }
            ],
            "build-commands": [
                "python3 -m pip install --no-index --find-links=/app --prefix=${FLATPAK_DEST} --no-deps beautifulsoup4-4.9.3.tar.gz",
                "python3 -m pip install --no-index --find-links=/app --prefix=${FLATPAK_DEST} --no-deps *.tar.gz"
            ]
        },
        {
            "name": "wselector",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/Cookiiieee/WSelector.git",
                    "commit": "09e4f7ca600020fbd11ce1dbd1ab02840c8ccf9f"
                }
            ],
            "build-commands": [
                "python3 -m pip install --no-index --find-links=/app --prefix=${FLATPAK_DEST} --no-deps .",
                "update-desktop-database ${FLATPAK_DEST}/share/applications",
                "gtk-update-icon-cache -t ${FLATPAK_DEST}/share/icons/hicolor"
            ]
        }
    ],
    "cleanup": [
        "/share/man",
        "/include",
        "*.la",
        "*.a",
        "*.pyc",
        "*.pyo",
        "__pycache__",
        "**/__pycache__",
        "**/*.pyc",
        "**/*.pyo"
    ]
}